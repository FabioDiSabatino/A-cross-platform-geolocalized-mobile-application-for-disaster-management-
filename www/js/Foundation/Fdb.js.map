{"version":3,"file":"Fdb.js","sourceRoot":"","sources":["../../../scripts/Foundation/Fdb.ts"],"names":[],"mappings":"AAAA,IAAU,UAAU,CA0CnB;AA1CD,WAAU,UAAU,EAAC,CAAC;IAClB,YAAY,CAAC;IACb;QAAA;QAuCA,CAAC;QAtCiB,iBAAQ,GAAtB;YACI,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;YAC7B,IAAI,SAAS,GAAG,YAAY,CAAC,SAAS,EAAE,EAAE,EAAE,cAAc,EAAE,MAAM,EAAE;gBAChE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;YACrD,CAAC,CAAC,CAAC;YACH,SAAS,CAAC,WAAW,CAAC,UAAC,EAAkB;gBACrC,EAAE,CAAC,UAAU,CAAC,sEAAsE;oBAChF,4EAA4E;oBAC5E,6DAA6D,CAAC,CAAC;gBACnE,EAAE,CAAC,UAAU,CAAC,wEAAwE;oBAClF,8GAA8G,CAAC,CAAC;YACxH,CAAC,CACA,CAAC;QACN,CAAC;QAEa,qBAAY,GAA1B,UAA2B,IAAI;YAC3B,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;YAC7B,IAAI,EAAE,GAAG,YAAY,CAAC,SAAS,EAAE,EAAE,EAAE,cAAc,EAAE,MAAM,EAAE;gBACzD,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;YACrD,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,WAAW,CAAC,UAAC,EAAkB;gBAC9B,EAAE,CAAC,UAAU,CAAC,+CAA+C;oBACzD,6EAA6E;oBAC7E,8DAA8D,CAAC,CAAC;YACxE,CAAC,CAAC,CAAC;QAEP,CAAC;QAEa,kBAAS,GAAvB,UAAwB,IAAI;YACxB,IAAI,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;YAE7B,IAAI,EAAE,GAAG,YAAY,CAAC,SAAS,EAAE,EAAE,EAAE,cAAc,EAAE,MAAM,EAAE;gBACzD,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;YACrD,CAAC,CAAC,CAAC;YACH,EAAE,CAAC,WAAW,CAAC,UAAC,EAAkB;gBAC9B,EAAE,CAAC,UAAU,CAAC,yCAAyC,EAAE,EAAE,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC;QACP,CAAC;QACL,eAAC;IAAD,CAAC,AAvCD,IAuCC;IAvCY,mBAAQ,WAuCpB,CAAA;AACL,CAAC,EA1CS,UAAU,KAAV,UAAU,QA0CnB","sourcesContent":["namespace Foundation {\r\n    \"use strict\";\r\n    export class Database {\r\n        public static createDb() {\r\n            var dbSize = 5 * 1024 * 1024;\r\n            var db_handle = openDatabase(\"localDB\", \"\", \"Todo manager\", dbSize, () => {\r\n                console.log(\"db successfully opened or created\");\r\n            });\r\n            db_handle.transaction((tx: SqlTransaction) => {\r\n                tx.executeSql(\"CREATE TABLE event (code INTEGER,zero_lat INTEGER,zero_lng INTEGER, \" +\r\n                    \"cell_lat NUMERIC, cell_lng NUMERIC, count INTEGER, time_last VARCHAR(20), \" +\r\n                    \"PRIMARY KEY (code, zero_lat, zero_lng, cell_lat, cell_lng))\");\r\n                tx.executeSql(\"CREATE TABLE person (id INTEGER PRIMARY KEY,name VARCHAR(20),zero_lat \" +\r\n                    \"INTEGER, zero_lng INTEGER, cell_lat NUMERIC, cell_lng NUMERIC, status VARCHAR(20), last_update VARCHAR (20))\");\r\n            }\r\n            );\r\n        }\r\n\r\n        public static savePosition(data) {\r\n            var dbSize = 5 * 1024 * 1024;\r\n            var db = openDatabase(\"localDB\", \"\", \"Todo manager\", dbSize, () => {\r\n                console.log(\"db successfully opened or created\");\r\n            });\r\n            db.transaction((tx: SqlTransaction) => {\r\n                tx.executeSql(\"INSERT INTO person VALUES(?,?,?,?,?,?,?,?)', \" +\r\n                    \"[2, 'Paola Carta', data.zero.lat, data.zero.lng, data.cell.cell_number_lat,\" +\r\n                    \"data.cell.cell_number_lng, 'ferito lieve', '17/01/16 15.00']\");\r\n            });\r\n\r\n        }\r\n\r\n        public static saveEvent(data) {\r\n            var dbSize = 5 * 1024 * 1024;\r\n\r\n            var db = openDatabase(\"localDB\", \"\", \"Todo manager\", dbSize, () => {\r\n                console.log(\"db successfully opened or created\");\r\n            });\r\n            db.transaction((tx: SqlTransaction) => {\r\n                tx.executeSql(\"INSERT INTO event VALUES(?,?,?,?,?,?,?)\", []);\r\n            });\r\n        }\r\n    }\r\n}"]}