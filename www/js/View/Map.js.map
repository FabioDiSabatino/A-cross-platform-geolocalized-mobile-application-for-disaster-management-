{"version":3,"file":"Map.js","sourceRoot":"","sources":["../../../scripts/View/Map.ts"],"names":[],"mappings":"AAAA,IAAU,IAAI,CAuCb;AAvCD,WAAU,IAAI,EAAC,CAAC;IACZ,YAAY,CAAC;IACb;QAAA;QAoCA,CAAC;QAnCU,4BAAU,GAAjB;YACI,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,qBAAqB,EAAE,UAAC,KAAwB,EAAE,KAAU;gBACvE,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,YAAY,CAAC,CAAC,CAAC;oBACtD,MAAM,CAAC;gBACX,CAAC;gBACD,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE;oBACpE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;oBAClB,IAAI,CAAC,YAAY,EAAE,CAAC;gBACxB,CAAC,CAAC,CAAC;gBACH,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE;oBAE7D,IAAI,CAAC,QAAQ,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC;oBAGrC,CAAC,CAAC,eAAe,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;oBACtC,CAAC,CAAC,gBAAgB,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAC9C,CAAC,CAAC,CAAC;gBACH,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE;oBAE9D,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;oBAGlC,CAAC,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;oBACvC,CAAC,CAAC,eAAe,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAC7C,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,CAAC;gBACnC,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBAC7B,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC;gBACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE;oBACtB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAGtC,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC;QACL,cAAC;IAAD,CAAC,AApCD,IAoCC;IApCY,YAAO,UAoCnB,CAAA;AACL,CAAC,EAvCS,IAAI,KAAJ,IAAI,QAuCb;AAGD,IAAI,WAAW,GAAG,UAAU,IAAI;IAC5B,IAAI,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;IACxB,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;QACnB,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,GAAG,CAAC;AACf,CAAC,CAAC","sourcesContent":["namespace View {\r\n    \"use strict\";\r\n    export class MapPage implements IPage {\r\n        public initialize() {\r\n            $(document).on(\"pagecontainerchange\", (event: JQueryEventObject, pages: any) => {\r\n                if (pages.toPage.children().prop(\"id\") !== \"map-widget\") {\r\n                    return;\r\n                }\r\n                document.getElementById(\"back-from-map\").addEventListener(main.UXEvent, () => {\r\n                    main.CHome.stop();\r\n                    main.navigateBack();\r\n                });\r\n                document.getElementById(\"latest\").addEventListener(main.UXEvent, () => {\r\n                    // riordino schede o centra mappa in base al più vicino\r\n                    news.official = sortLatestNews(news);\r\n                    // no class for news yet!\r\n                    // chome.centerView(news.official[0].position);\r\n                    $(\".check-latest\").addClass(\"active\");\r\n                    $(\".check-nearest\").removeClass(\"active\");\r\n                });\r\n                document.getElementById(\"nearest\").addEventListener(main.UXEvent, () => {\r\n                    // riordino schede o centra mappa in base al più vicino\r\n                    news.official = sortNearest(news);\r\n                    // no class for news yet!\r\n                    // chome.centerView(news.official[0].position);\r\n                    $(\".check-nearest\").addClass(\"active\");\r\n                    $(\".check-latest\").removeClass(\"active\");\r\n                });\r\n                main.CHome = new Controller.Home();\r\n                main.VHome = new View.Home();\r\n                main.VHome.noCenterMe();\r\n                main.CHome.Map.on(\"load\", () => {\r\n                    main.VHome.addNews(news.official);\r\n                    // no class for news yet!\r\n                    // chome.centerView(news.official[0].position);\r\n                });\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\nvar sortNearest = function (dati) {\r\n    var arr = dati.official;\r\n    arr.sort(function (a, b) {\r\n        return parseFloat(a.distanza) - parseFloat(b.distanza);\r\n    });\r\n    return arr;\r\n};"]}